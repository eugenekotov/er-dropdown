<mat-form-field>
    <mat-select #matSelect (openedChange)="onOpenedChange($event)" [(ngModel)]="selectedOption" (selectionChange)="onSelectionChange($event)">

        <div *ngIf="filterVisible" class="mat-filter" [ngStyle]="{'background-color': color ? color : 'white'}">
            <span class="material-icons" style="opacity: 0.5;">search</span>

            <input #input class="mat-filter-input" matInput placeholder="{{filterPlaceHolder}}"
                [(ngModel)]="filterValue" (ngModelChange)="onFilterValueChange($event)"
                (keydown)="handleKeydown($event)">
            <span *ngIf="filterValue.length > 0" class="material-icons" style="opacity: 0.5; cursor: pointer;"
                (click)="onClearFilterClick($event)">close</span>
        </div>


        <mat-option *ngFor="let option of filteredOptions"
            [value]="option">{{option[optionLabel]}}</mat-option>
    </mat-select>
    <span *ngIf="showClear" matSuffix class="material-icons" style="opacity: 0.5; cursor: pointer; margin-left: 5px; margin-right: 10px;"
        (click)="onClearClick($event)">close</span>
</mat-form-field>